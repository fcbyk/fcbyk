const fs = require('fs');
const path = require('path');

// ç›®æ ‡ç›®å½•è·¯å¾„ï¼ˆsrc/utilsï¼‰
const utilsDir = path.join(__dirname, '../src/utils');

// è¯»å–æ‰€æœ‰ .ts æ–‡ä»¶ï¼ˆæ’é™¤ index.ts å’Œæµ‹è¯•æ–‡ä»¶ï¼‰
const files = fs.readdirSync(utilsDir)
    .filter(file =>
        file.endsWith('.ts') &&
        file !== 'index.ts' &&
        !file.endsWith('.test.ts')
    );

// ç”Ÿæˆå¯¼å‡ºè¯­å¥
const exportStatements = files.map(file => {
    const name = file.replace('.ts', '');
    return `export * from './${name}';`;
});

// å†™å…¥ index.ts
fs.writeFileSync(
    path.join(utilsDir, 'index.ts'),
    '// Auto-generated by scripts/generate-exports.js\n' +
    exportStatements.join('\n') + '\n'
);

console.log('ğŸ‰ src/utils/index.ts å·²è‡ªåŠ¨ç”Ÿæˆï¼');